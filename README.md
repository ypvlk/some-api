# evm-service

## Инструкция по установке:
- Установить все зависимости вызвать в терминале `yarn`
<!-- - Microservice использует `typeOrm` для коннекта к PSQL, поэтому необходимо поднять локально либо в докере БД, создать там юзера.
- Microservice использует `rabbitMq`, чтобы сервис поднялся без проблем нужно его законектить к ребиту, либо отключить его в `app.module`. Для этого его нужно также поднять в докере. -->
- Неободимо перед запуском запустить миграции для создания таблиц, если кто-то и вдруг добавил - `yarn typeorm:run`
- `yarn start:dev` - запускает проект


## Создание миграций:
В `typeOrm` есть ряд команд для запуска, генерации, создания миграций:
- `yarn typeorm:generate` - запускает автоматическую генерацию миграций, на базе изменений или добавления новых `*.entity.ts` в проекте, но важно соблюдать синтаксис выполнения этой команды.
В новой версии typeOrm теперь нужно первым аргументом указывать путь и название миграции, в противном случае `typeorm-cli` положит его в корень, пример:
```
yarn typeorm:generate  ./src/migrations/initTestEntity
```
- `yarn typeorm:create ./src/migrations/testMigration` - создает пустую миграцию, где нам нужно самому писать SQL-запрос.
- `yarn typeorm:revert` - делает откат последней миграции, сверяет с таблицей `migrations`

## ENV:
Есть два файла:
- .env - переменные которые использует сервис.
- .env.local - переменные для коммита в гит, то-есть если мы добавили какой-то енв, то чтобы другой разработчик смог синхронизировать свои переменны на базе тех, которые вы запушили.

## Commit convention
Коммиты делаем либо через команду `yarn commit`, где потом через `cli` выбираем тип, скоуп, описание либо нативным способом `git commit -m "type(scope): description commit""`
- Типы коммитов: feat, fix, chore, ci, docs, style, refactor, test, etc...
- Скоуп - это айди таски
- описание - что сделали
